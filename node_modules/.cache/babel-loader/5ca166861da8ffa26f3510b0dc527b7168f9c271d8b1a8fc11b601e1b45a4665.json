{"ast":null,"code":"import _regeneratorRuntime from\"D:/React/covid/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/React/covid/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/React/covid/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Form from'react-bootstrap/Form';import Card from'./Card';import{CardGroup}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Countries=function Countries(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),countries=_useState2[0],setCountries=_useState2[1];var _useState3=useState('worldwide'),_useState4=_slicedToArray(_useState3,2),country=_useState4[0],setCountry=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),countryInfo=_useState6[0],setCountryInfo=_useState6[1];useEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://disease.sh/v3/covid-19/countries').then(function(res){return res.json();}).then(function(data){var countries=data.map(function(item){return{name:item.country,value:item.countryInfo.iso2,index:item.index+1};});setCountries(countries);});case 2:case\"end\":return _context.stop();}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[]);useEffect(function(){fetch(\"https://disease.sh/v3/covid-19/all\").then(function(res){return res.json();}).then(function(data){return setCountryInfo(data);});},[]);var onCountryChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var url;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:url=e.target.value=='worldwide'?\"https://disease.sh/v3/covid-19/all\":\"https://disease.sh/v3/covid-19/countries/\".concat(e.target.value);_context2.next=3;return fetch(url).then(function(res){return res.json();}).then(function(data){setCountry(e.target.value);setCountryInfo(data);});case 3:case\"end\":return _context2.stop();}},_callee2);}));return function onCountryChange(_x){return _ref2.apply(this,arguments);};}();var date=new Date(parseInt(countryInfo.updated));var lastupdated=date.toString();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"d-flex justify-content-center fw-bold mt-4\",children:\"List of all countries across Worldwide\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid p-3 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(Form.Select,{value:country.name,onChange:onCountryChange,className:\"w-50 \",children:[/*#__PURE__*/_jsx(\"option\",{value:\"worldwide\",children:\"worldwide\"}),countries.map(function(country){return/*#__PURE__*/_jsxs(\"option\",{value:country.value,children:[\" \",country.name]});})]})}),/*#__PURE__*/_jsx(CardGroup,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container fluid responsive\",children:[/*#__PURE__*/_jsx(Card,{title:\"Confirmed\",text:countryInfo.cases,icon:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-virus-covid fa-4x\",style:{color:\"red\"}}),status:lastupdated}),/*#__PURE__*/_jsx(Card,{title:\"Active\",text:countryInfo.active,status:lastupdated,icon:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-chart-line fa-4x\",style:{color:\"orange\"}})}),/*#__PURE__*/_jsx(Card,{title:\"Fatalities\",text:countryInfo.deaths,icon:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-skull fa-4x\",style:{color:\"Black\"}}),status:lastupdated}),/*#__PURE__*/_jsx(Card,{title:\"Recovered\",text:countryInfo.recovered,icon:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-heart-pulse fa-4x\",style:{color:\"green\"}}),status:lastupdated})]})})]});};export default Countries;","map":{"version":3,"names":["React","useState","useEffect","Form","Card","CardGroup","Countries","countries","setCountries","country","setCountry","countryInfo","setCountryInfo","getData","fetch","then","res","json","data","map","item","name","value","iso2","index","onCountryChange","e","url","target","date","Date","parseInt","updated","lastupdated","toString","cases","color","active","deaths","recovered"],"sources":["D:/React/covid/src/components/Countries.jsx"],"sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport Card from './Card';\r\nimport { CardGroup } from 'react-bootstrap';\r\n\r\nconst Countries = () => {\r\n\r\nconst [countries, setCountries] = useState([]);\r\nconst [country, setCountry] = useState('worldwide');\r\nconst [countryInfo, setCountryInfo] = useState({})\r\n\r\nuseEffect (()=>{\r\nconst getData = async () =>{\r\nawait fetch('https://disease.sh/v3/covid-19/countries')\r\n.then(res=>res.json())\r\n.then( data => {\r\nconst countries = data.map(item=>(\r\n{\r\nname : item.country,\r\nvalue: item.countryInfo.iso2,\r\nindex: item.index+1\r\n}\r\n))\r\nsetCountries(countries)\r\n})\r\n}\r\ngetData()\r\n},[])\r\n\r\nuseEffect(() => {\r\n\r\nfetch(\"https://disease.sh/v3/covid-19/all\")\r\n.then(res=>res.json())\r\n.then(data => setCountryInfo(data))\r\n}, [])\r\n\r\nconst onCountryChange = async e =>{\r\nconst url = e.target.value == 'worldwide' ? `https://disease.sh/v3/covid-19/all` :\r\n`https://disease.sh/v3/covid-19/countries/${e.target.value}`\r\n\r\nawait fetch(url)\r\n.then(res=>res.json())\r\n.then(data=>{\r\nsetCountry(e.target.value);\r\nsetCountryInfo(data)\r\n})\r\n\r\n}\r\nconst date = new Date(parseInt(countryInfo.updated));\r\nconst lastupdated = date.toString();\r\nreturn (\r\n<>\r\n\r\n  <h4 className='d-flex justify-content-center fw-bold mt-4'>List of all countries across Worldwide</h4>\r\n  <div className='container-fluid p-3 d-flex justify-content-center'>\r\n\r\n    <Form.Select value={country.name} onChange={onCountryChange} className=\"w-50 \">\r\n      <option value=\"worldwide\">worldwide</option>\r\n      {countries.map(country => <option value={country.value}> {country.name}\r\n      </option>)}\r\n\r\n    </Form.Select>\r\n  </div>\r\n\r\n  <CardGroup>\r\n    <div className='container fluid responsive'>\r\n      <Card title={\"Confirmed\"} text={countryInfo.cases} icon={ <i className='fa-solid fa-virus-covid fa-4x' style={{color:\"red\"}} /> } status={lastupdated} />\r\n      <Card title={\"Active\"} text={countryInfo.active} status={lastupdated} icon={<i className='fa-solid fa-chart-line fa-4x' style={{color:\"orange\"}} />}/>\r\n      <Card title={\"Fatalities\"} text={countryInfo.deaths} icon={<i className='fa-solid fa-skull fa-4x' style={{color:\"Black\"}} />} status={lastupdated} />\r\n      <Card title={\"Recovered\"} text={countryInfo.recovered} icon={<i className='fa-solid fa-heart-pulse fa-4x'style={{color:\"green\"}} />} status={lastupdated} />\r\n    </div>\r\n  </CardGroup>\r\n\r\n</>\r\n)\r\n}\r\n\r\nexport default Countries"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}